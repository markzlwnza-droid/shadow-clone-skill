# ================================================
# SHADOW CLONE - SYNC ATTACK SYSTEM
# ================================================
# ‡πÉ‡∏™‡πà‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡πÉ‡∏ô: plugins/MythicMobs/Skills/ShadowCloneSyncAttack.yml
# Version: 1.3 - Fixed for MythicMobs FREE
# Required: MythicMobs 5.3+

# ================================
# SYNC ATTACK - ‡πÇ‡∏à‡∏°‡∏ï‡∏µ‡∏û‡∏£‡πâ‡∏≠‡∏° Owner
# ================================

# Main Sync Attack Trigger
ShadowClone_SyncAttack:
  Cooldown: 1.5
  TargetConditions:
  - entitytype MONSTER
  Skills:
  # Visual sync effect
  - effect:particles{p=enchanted_hit;a=8;s=0.3} @self
  - effect:sound{s=entity.player.attack.sweep;v=0.5;p=1.3} @self
  
  # Attack based on range
  - skill{s=Clone_SyncMelee} @target ?distance{d=<4}
  - skill{s=Clone_SyncRanged} @target ?distance{d=>4}

Clone_SyncMelee:
  TargetConditions:
  - entitytype MONSTER
  Skills:
  - damage{a=10;pkb=true} @target
  - effect:particles{p=sweep_attack;a=1} @self
  - 'actionmessage{m="<&7><&l>‚öî SYNC!"} @owner'

Clone_SyncRanged:
  TargetConditions:
  - entitytype MONSTER
  Skills:
  - shoot{type=ARROW;velocity=3;damage=8} @target
  - 'actionmessage{m="<&7><&l>üèπ SYNC!"} @owner'

Clone_SyncArrowTick:
  Skills:
  - effect:particles{p=crit;a=1;s=0.05} @origin

Clone_SyncArrowHit:
  TargetConditions:
  - entitytype MONSTER
  Skills:
  - damage{a=8} @target
  - effect:particles{p=crit;a=6;s=0.2} @target


# ================================
# COMBO SYNC - ‡πÇ‡∏à‡∏°‡∏ï‡∏µ‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á
# ================================
ShadowClone_ComboSync:
  Cooldown: 0.5
  TargetConditions:
  - entitytype MONSTER
  Skills:
  - skill{s=Clone_SyncHit} @target

Clone_SyncHit:
  Skills:
  - damage{a=8} @target
  - effect:particles{p=crit;a=4;s=0.15} @target

Clone_SyncFinisher:
  Skills:
  - effect:particles{p=sweep_attack;a=3;s=0.8} @self
  - effect:sound{s=entity.player.attack.crit;v=0.8;p=0.8} @self
  - damage{a=18;pkb=true} @target
  - throw{v=0.5;vy=0.3} @target
  - 'actionmessage{m="<&c><&l>‚öî COMBO FINISH!"} @owner'


# ================================
# DUAL ATTACK - ‡πÇ‡∏à‡∏°‡∏ï‡∏µ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô 2 ‡∏ó‡∏¥‡∏®
# ================================
ShadowClone_DualAttack:
  Cooldown: 8
  TargetConditions:
  - entitytype MONSTER
  Skills:
  - 'actionmessage{m="<&e><&l>‚öî DUAL STRIKE!"} @owner'
  
  # Clone teleport behind target
  - effect:particles{p=portal;a=20;s=0.4} @self
  - delay 3
  
  # Attack from behind
  - teleport @target ~-2
  - delay 2
  - skill{s=Clone_BackStab} @target

Clone_BackStab:
  TargetConditions:
  - entitytype MONSTER
  Skills:
  - effect:particles{p=crit;a=15;s=0.3} @target
  - effect:sound{s=entity.player.attack.crit;v=0.8;p=1.2} @self
  - damage{a=15;ignorearmor=true} @target
  - potion{t=SLOWNESS;d=20;l=1} @target


# ================================
# MIRROR SKILL - ‡πÄ‡∏•‡∏µ‡∏¢‡∏ô‡πÅ‡∏ö‡∏ö‡∏ó‡πà‡∏≤ Owner
# ================================
ShadowClone_MirrorSkill:
  Cooldown: 5
  Skills:
  - effect:particles{p=portal;a=15;s=0.3} @self
  - effect:particles{p=enchanted_hit;a=10;s=0.25} @self
  - effect:sound{s=entity.enderman.teleport;v=0.4;p=1.5} @self
  
  # Copy owner's last action (visual only)
  - 'actionmessage{m="<&d><&l>‚Üî MIRROR!"} @owner'


# ================================
# TEAMWORK BONUS
# ================================
ShadowClone_TeamworkBonus:
  Skills:
  - skill{s=Clone_TeamworkBurst} @target 0.33

Clone_TeamworkBurst:
  Skills:
  - effect:particles{p=totem_of_undying;a=20;s=0.5} @target
  - effect:sound{s=entity.player.levelup;v=0.4;p=2} @self
  - damage{a=10;ignorearmor=true} @target
  - 'actionmessage{m="<&e><&l>‚òÖ TEAMWORK BONUS!"} @owner'
