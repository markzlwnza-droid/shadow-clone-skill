# ================================================
# SHADOW CLONE - ULTIMATE SKILLS
# ================================================
# à¹ƒà¸ªà¹ˆà¹„à¸Ÿà¸¥à¹Œà¸™à¸µà¹‰à¹ƒà¸™: plugins/MythicMobs/Skills/ShadowCloneUltimate.yml
# Version: 1.3 - Fixed for MythicMobs FREE
# Required: MythicMobs 5.3+

# ================================
# MELEE ULTIMATE - SHADOW STORM
# ================================
Clone_ShadowStorm:
  Cooldown: 25
  TargetConditions:
  - entitytype MONSTER
  Skills:
  - 'actionmessage{m="<&8><&l>âš” <&5><&l>SHADOW STORM!"} @owner'
  - 'message{m="<&8>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"} @owner'
  - 'message{m="<&5>  âš” à¸£à¹ˆà¸²à¸‡à¹€à¸‡à¸²à¹ƒà¸Šà¹‰ <&l>SHADOW STORM<&5>!"} @owner'
  - 'message{m="<&8>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"} @owner'
  
  # Charge up
  - effect:particles{p=portal;a=40;s=0.6} @self
  - effect:particles{p=smoke;a=30;s=0.5} @self
  - effect:sound{s=entity.wither.ambient;v=0.4;p=0.5} @self
  - delay 10
  
  # Spin attack (3 rotations)
  - skill{s=Clone_StormSpin} @self
  - delay 8
  - skill{s=Clone_StormSpin} @self
  - delay 8
  - skill{s=Clone_StormSpin} @self
  
  # Final burst
  - delay 5
  - skill{s=Clone_StormFinisher} @self

Clone_StormSpin:
  Skills:
  - effect:particles{p=sweep_attack;a=8;s=1.5} @self
  - effect:particles{p=smoke;a=25;s=0.8} @self
  - effect:sound{s=entity.player.attack.sweep;v=0.8;p=1.2} @self
  - damage{a=12} @EntitiesInRadius{r=3.5;types=MONSTER}
  # Lifesteal
  - heal{a=3} @self

Clone_StormFinisher:
  Skills:
  - effect:particles{p=explosion;a=3;s=0.5} @self
  - effect:particles{p=soul;a=30;s=1} @self
  - effect:sound{s=entity.wither.break_block;v=0.6;p=1} @self
  - damage{a=25;ignorearmor=true} @EntitiesInRadius{r=4;types=MONSTER}
  - throw{v=0.8;vy=0.5} @EntitiesInRadius{r=4;types=MONSTER}
  # Big lifesteal
  - heal{a=10} @self
  - 'actionmessage{m="<&5><&l>âœ“ Storm Complete! <&7>+HP"} @owner'


# ================================
# ARCHER ULTIMATE - RAIN OF SHADOWS
# ================================
Clone_RainOfShadows:
  Cooldown: 30
  TargetConditions:
  - entitytype MONSTER
  Skills:
  - 'actionmessage{m="<&8><&l>ğŸ¹ <&d><&l>RAIN OF SHADOWS!"} @owner'
  - 'message{m="<&8>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"} @owner'
  - 'message{m="<&d>  ğŸ¹ à¸£à¹ˆà¸²à¸‡à¹€à¸‡à¸²à¹ƒà¸Šà¹‰ <&l>RAIN OF SHADOWS<&d>!"} @owner'
  - 'message{m="<&8>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"} @owner'
  
  # Charge
  - effect:particles{p=portal;a=50;s=0.8} @target
  - effect:sound{s=entity.ender_dragon.growl;v=0.3;p=2} @self
  - delay 15
  
  # Rain of arrows
  - skill{s=Clone_ArrowRain} @target
  - delay 5
  - skill{s=Clone_ArrowRain} @target
  - delay 5
  - skill{s=Clone_ArrowRain} @target
  - delay 5
  
  # Final barrage
  - skill{s=Clone_ArrowBarrage} @target

Clone_ArrowRain:
  Skills:
  - effect:particles{p=crit;a=15;s=0.4} @origin
  - effect:sound{s=entity.arrow.shoot;v=0.6;p=1.5} @self
  - shoot{type=ARROW;velocity=3;damage=8} @target
  - delay 2
  - shoot{type=ARROW;velocity=3;damage=8} @target
  - delay 2
  - shoot{type=ARROW;velocity=3;damage=8} @target

Clone_RainTick:
  Skills:
  - effect:particles{p=smoke;a=1;s=0.05} @origin

Clone_RainHit:
  Skills:
  - damage{a=8} @target
  - effect:particles{p=crit;a=5;s=0.2} @target

Clone_ArrowBarrage:
  Skills:
  - effect:particles{p=end_rod;a=30;s=0.6} @origin
  - effect:sound{s=entity.firework_rocket.blast;v=0.8;p=0.8} @self
  - shoot{type=ARROW;velocity=4;damage=12} @target
  - delay 1
  - shoot{type=ARROW;velocity=4;damage=12} @target
  - delay 1
  - shoot{type=ARROW;velocity=4;damage=12} @target
  - delay 1
  - shoot{type=ARROW;velocity=4;damage=12} @target
  - delay 1
  - shoot{type=ARROW;velocity=4;damage=12} @target
  - 'actionmessage{m="<&d><&l>âœ“ Rain Complete!"} @owner'

Clone_BarrageHit:
  Skills:
  - damage{a=12;ignorearmor=true} @target
  - effect:particles{p=crit;a=10;s=0.3} @target
  - potion{t=SLOWNESS;d=40;l=2} @target


# ================================
# DEFAULT ULTIMATE - CLONE EXPLOSION
# ================================
Clone_Explosion:
  Cooldown: 40
  TargetConditions:
  - entitytype MONSTER
  Skills:
  - 'actionmessage{m="<&8><&l>ğŸ’¥ <&c><&l>CLONE EXPLOSION!"} @owner'
  - 'message{m="<&8>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"} @owner'
  - 'message{m="<&c>  ğŸ’¥ à¸£à¹ˆà¸²à¸‡à¹€à¸‡à¸²à¹ƒà¸Šà¹‰ <&l>CLONE EXPLOSION<&c>!"} @owner'
  - 'message{m="<&8>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"} @owner'
  
  # Warning
  - effect:particles{p=smoke;a=60;s=1} @self
  - effect:particles{p=flame;a=40;s=0.8} @self
  - effect:sound{s=entity.creeper.primed;v=0.8;p=0.8} @self
  - delay 20
  
  # Explosion
  - skill{s=Clone_ExplosionBlast} @self

Clone_ExplosionBlast:
  Skills:
  - effect:particles{p=explosion_emitter;a=1;s=0.1} @self
  - effect:particles{p=flame;a=80;s=1.5} @self
  - effect:particles{p=smoke;a=100;s=2} @self
  - effect:particles{p=soul;a=40;s=1.2} @self
  - effect:sound{s=entity.generic.explode;v=1;p=0.7} @self
  
  # Massive damage
  - damage{a=40;ignorearmor=true} @EntitiesInRadius{r=5;types=MONSTER}
  - throw{v=1.2;vy=0.8} @EntitiesInRadius{r=5;types=MONSTER}
  - ignite{d=60} @EntitiesInRadius{r=5;types=MONSTER}
  
  # Self damage (sacrifice)
  - damage{a=30} @self
  - 'actionmessage{m="<&c><&l>ğŸ’¥ BOOM! <&7>Clone HP -30"} @owner'


# ================================
# ULTIMATE TRIGGER - Smart Select
# ================================
ShadowClone_TriggerUltimate:
  Cooldown: 20
  TargetConditions:
  - entitytype MONSTER
  Skills:
  # Check clone type and trigger appropriate ultimate
  - skill{s=Clone_ShadowStorm} @self ?wearing{slot=hand;m=DIAMOND_SWORD}
  - skill{s=Clone_ShadowStorm} @self ?wearing{slot=hand;m=NETHERITE_SWORD}
  - skill{s=Clone_RainOfShadows} @self ?wearing{slot=hand;m=BOW}
  - skill{s=Clone_RainOfShadows} @self ?wearing{slot=hand;m=CROSSBOW}
  - skill{s=Clone_Explosion} @self


# ================================
# ULTIMATE CHARGE SYSTEM (Simplified)
# ================================
Clone_ChargeUltimate:
  Skills:
  - effect:particles{p=end_rod;a=5;s=0.3} @self

Clone_UltimateReady:
  Skills:
  - effect:particles{p=end_rod;a=15;s=0.5} @self
  - effect:sound{s=block.beacon.activate;v=0.4;p=2} @self
  - 'actionmessage{m="<&e><&l>âš¡ ULTIMATE READY!"} @owner'
